<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruta Estanquillos ↔ Atenas | AteBus 2025</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#f0f5f9; color:#2c3e50; line-height:1.6; }

        nav { background:#2c3e50; padding:15px 0; position:sticky; top:0; z-index:100; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
        .nav-container { max-width:1200px; margin:0 auto; padding:0 20px; display:flex; justify-content:space-between; align-items:center; }
        .logo { color:#3498db; font-size:28px; font-weight:bold; }
        nav ul { display:flex; gap:25px; list-style:none; }
        nav a { color:white; text-decoration:none; font-size:16px; }
        nav a:hover { color:#3498db; }

        .header { background:linear-gradient(135deg,#27ae60,#1e8449); color:white; text-align:center; padding:80px 20px; }
        .header h1 { font-size:46px; margin-bottom:10px; }
        .header p { font-size:22px; }

        .container { max-width:1100px; margin:40px auto; padding:0 20px; }

        .map-section { background:white; border-radius:12px; box-shadow:0 5px 20px rgba(0,0,0,0.12); padding:25px; margin-bottom:50px; text-align:center; }
        .map-section h2 { color:#2c3e50; margin-bottom:20px; font-size:26px; }
        .ruta-img { width:100%; border-radius:10px; box-shadow:0 6px 25px rgba(0,0,0,0.2); }

        .map-info { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; margin-top:25px; }
        .info-box { background:#f0f5f9; padding:18px; border-radius:10px; border-left:5px solid #2980b9; }
        .info-box strong { color:#2980b9; display:block; font-size:18px; margin-bottom:6px; }

        .tabs { display:flex; justify-content:center; flex-wrap:wrap; gap:12px; margin-bottom:35px; border-bottom:3px solid #ddd; padding-bottom:10px; }
        .tab-button { padding:14px 30px; background:none; border:none; font-size:17px; cursor:pointer; color:#7f8c8d; font-weight:600; border-radius:8px 8px 0 0; transition:all 0.3s; }
        .tab-button.active, .tab-button:hover { background:#2980b9; color:white; }

        table { width:100%; background:white; border-radius:10px; overflow:hidden; box-shadow:0 4px 15px rgba(0,0,0,0.1); margin-bottom:40px; }
        th { background:#2980b9; color:white; padding:18px; font-size:21px; }
        td { padding:14px; text-align:center; font-size:17px; border-bottom:1px solid #eee; }
        tr:hover { background:#f5fbff; }
        .nota { font-size:13px; color:#16a085; font-weight:bold; }
        .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(380px,1fr)); gap:30px; }

        footer { background:#2c3e50; color:white; text-align:center; padding:30px; margin-top:80px; font-size:15px; }

        @media (max-width:768px) {
            .header h1 { font-size:36px; }
            .header p { font-size:19px; }
            th, td { font-size:15px; padding:10px; }
            .grid { grid-template-columns:1fr; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="nav-container">
            <div class="logo">AteBus</div>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#">Rutas</a></li>
                <li><a href="#">Contacto</a></li>
            </ul>
        </div>
    </nav>

    <div class="header">
        <h1>Ruta Estanquillos ↔ Atenas</h1>
        <p>Coopetransatenas • Tarifa ₡430 • Horarios actualizados 2025</p>
    </div>

    <div class="container">

        <!-- MAPA -->
        <div class="map-section">
            <h2>Mapa de la Ruta</h2>
            <img src="../img/ruta-estanquillos.png" alt="Ruta Estanquillos↔ Atenas" class="ruta-img">
            <div class="map-info">
                <div class="info-box"><strong>Salida</strong> Mercado de Atenas<br><small>Atenas (centro)</small></div>
                <div class="info-box"><strong>Llegada</strong>Supermercado Estanquillos</div>
                <div class="info-box"><strong>Duración</strong> 45–55 minutos</div>
                <div class="info-box"><strong>Tarifa 2025</strong> ₡430</div>
            </div>
        </div>

        <!-- PESTAÑAS DE HORARIOS -->
        <div class="tabs">
            <button class="tab-button active" data-day="lunes_a_viernes">Lunes a Viernes</button>
            <button class="tab-button" data-day="sabado">Sábado</button>
            <button class="tab-button" data-day="domingo_y_feriados">Domingo y Feriado</button>
        </div>

        <!-- AQUÍ SE CARGAN LOS HORARIOS DESDE EL JSON -->
        <div id="horarios-container" class="grid">
            <!-- Todo se genera automáticamente con JavaScript -->
        </div>

    </div>

    <footer>
        <p>© 2025 AteBus - Orgullosamente Atenienses • Información actualizada noviembre 2025</p>
    </footer>

    <script>
        const cont = document.getElementById('horarios-container');

        function crearTabla(titulo, horarios) {
            let tabla = `<table><thead><tr><th>${titulo}</th></tr></thead><tbody>`;
            horarios.forEach(h => {
                if (typeof h === 'string') {
                    tabla += `<tr><td>${h} </td></tr>`;
                } else {
                    tabla += `<tr><td>${h.hora} <span class="nota">${h.nota}</span></td></tr>`;
                }
            });
            tabla += `</tbody></table>`;
            return tabla;
        }

        function mostrar(dia, data) {
            const h = data.horarios[dia];
            cont.innerHTML = 
                crearTabla('Sale de Estanquillos', h.desde_estanquillos) + 
                crearTabla('Sale de Atenas', h.desde_atenas);
        }

        // Cargar el JSON
        fetch('../json/horario-estanquillos-atenas.json')
            .then(respuesta => respuesta.json())
            .then(data => {
                // Mostrar horarios de lunes a viernes por defecto
                mostrar('lunes_a_viernes', data);

                // Agregar evento a cada botón de pestaña
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.onclick = () => {
                        document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        mostrar(btn.getAttribute('data-day'), data);
                    };
                });
            })
            .catch(error => {
                cont.innerHTML = `
                    <div style="grid-column:1/-1; background:white; padding:40px; border-radius:10px; text-align:center; box-shadow:0 4px 15px rgba(0,0,0,0.1);">
                        <h3 style="color:#e74c3c; margin-bottom:10px;">Error al cargar los horarios</h3>
                        <p style="color:#7f8c8d; font-size:16px;">No se encontró el archivo: <strong>json/horario-estanquillos-atenas.json</strong></p>
                        <p style="color:#95a5a6; font-size:14px; margin-top:15px;">Verifica que el archivo exista en la carpeta correcta.</p>
                    </div>
                `;
                console.error('Error al cargar JSON:', error);
            });
    </script>

</body>
</html>