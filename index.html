<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Horarios actualizados 2025 de buses en Atenas, Costa Rica.">
    <title>AteBus • Horarios de Buses en Atenas 2025</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
    <!-- NAVEGACIÓN -->
    <nav>
        <div class="nav-container">
            <div class="logo"><a href="index.html"><img src="img/logo.png" alt="AteBus Logo"></a></div>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="acercadea.html">Acerca de</a></li>
                <li><a href="propuesta.html">Propuesta</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
        </div>
    </nav>

    <!-- CARRUSEL -->
    <div class="carrusel">
        <div class="slides">
            <div class="slide">
                <img src="img/paradacoopetransatenas.png" alt="Terminal de Bus Coopetransatenas" 
                     onerror="this.src='https://via.placeholder.com/1200x600/3498db/ffffff?text=Terminal+Atenas';">
                <div class="caption">
                    <h2>Horarios actualizados 2025</h2>
                    <p>Todas las rutas de Atenas en un solo lugar</p>
                </div>
            </div>
            <div class="slide">
                <img src="img/terminalbusesmercado.png" alt="Terminal de Bus del Mercado" 
                     onerror="this.src='https://via.placeholder.com/1200x600/2c3e50/ffffff?text=Bus+en+Ruta';">
                <div class="caption">
                    <h2>Información confiable y oficial</h2>
                    <p>Directo de Coopetransatenas R.L.</p>
                </div>
            </div>
            <div class="slide">
                <img src="img/iglesiaatenas.png" alt="Atenas centro" 
                     onerror="this.src='https://via.placeholder.com/1200x600/27ae60/ffffff?text=Centro+de+Atenas';">
                <div class="caption">
                    <h2>¡Siempre al día!</h2>
                    <p>Actualización: 29 de noviembre 2025</p>
                </div>
            </div>
        </div>
        <button class="prev">❮</button>
        <button class="next">❯</button>
        <div class="dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    </div>

    <!-- INTRODUCCIÓN -->
    <section class="intro container">
        <div class="intro-content">
            <h2>El problema que resolvemos</h2>
            <p>En Atenas no existía una página web moderna, actualizada y fácil de usar con los horarios reales de buses.</p>
            <p>La gente perdía tiempo buscando papelitos, preguntando en grupos de Facebook o llegando tarde porque la información estaba desactualizada o incompleta.</p>
            <p><strong>AteBus</strong> es la solución definitiva: una plataforma web rápida, bonita, accesible desde cualquier celular y siempre con los horarios oficiales al día.</p>
        </div>
    </section>

    <!-- RUTAS -->
    <section class="container rutas-section">
        <h2>Rutas Disponibles</h2>
        <div id="rutas-container" class="services-grid">
            <div style="grid-column:1/-1; text-align:center; padding:60px; color:#7f8c8d;">
                <p>Cargando rutas...</p>
            </div>
        </div>
    </section>

    <footer>
        <p>© 2025 <strong>AteBus</strong> • Proyecto creado con amor para los atenienses</p>
    </footer>

    <script>
        // ============================================================
        // CARRUSEL - Script Principal
        // ============================================================
        
        // Variables globales
        let slideIndex = 0;
        const totalSlides = 3;
        const slidesContainer = document.querySelector('.slides');
        const slideElements = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');
        
        // Función para mostrar el slide actual
        function showSlide(n) {
            // Ajusta el índice para que sea cíclico (0-2)
            slideIndex = (n + totalSlides) % totalSlides;
            
            // Calcula el desplazamiento en porcentaje
            // Si slideIndex es 0 → 0%, si es 1 → -100%, si es 2 → -200%
            const offset = -slideIndex * 100;
            
            // Aplica la transformación para desplazar los slides
            slidesContainer.style.transform = `translateX(${offset}%)`;
            
            // Actualiza los puntos indicadores
            dots.forEach(dot => dot.classList.remove('active'));
            dots[slideIndex].classList.add('active');
        }
        
        // Inicializar en el primer slide
        showSlide(0);
        
        // Event listener para el botón siguiente
        document.querySelector('.next').addEventListener('click', () => {
            showSlide(slideIndex + 1);
        });
        
        // Event listener para el botón anterior
        document.querySelector('.prev').addEventListener('click', () => {
            showSlide(slideIndex - 1);
        });
        
        // Event listeners para los puntos
        dots.forEach((dot, i) => {
            dot.addEventListener('click', () => showSlide(i));
        });
        
        // Auto-avance cada 7 segundos
        setInterval(() => {
            showSlide(slideIndex + 1);
        }, 7000);

        // ============================================================
        // CARGAR RUTAS DESDE JSON
        // ============================================================
        
        fetch('json/rutas.json')
            .then(r => r.json())
            .then(data => {
                const container = document.getElementById('rutas-container');
                container.innerHTML = '';
                
                // Itera sobre cada ruta del JSON
                data.rutas.forEach(ruta => {
                    container.innerHTML += `
                        <div class="service-card">
                            <a href="${ruta.archivo}">
                                <h3>${ruta.nombre}</h3>
                                <p>${ruta.info}</p>
                            </a>
                        </div>
                    `;
                });
            })
            .catch(() => {
                // Si hay error cargando el JSON
                document.getElementById('rutas-container').innerHTML = 
                    '<div style="grid-column:1/-1;background:white;padding:50px;border-radius:12px;text-align:center;color:#e74c3c;"><h3>Error: No se encontró json/rutas.json</h3></div>';
            });
    </script>
</body>
</html>